% Page109：已知开环传函，系统输入信号为三角波，求响应
clear;
clc;

numg = [1, 2];
deng = [1, 10, 1];
% 建立单位负反馈传递函数
[num, den] = cloop(numg, deng, -1);
% 产生三角波
v1 = [0:0.1:1];
v2 = [0.9:-0.1:-1];
v3 = [-0.9:0.1:0];
u = [v1, v2, v3];
% 仿真时间
t = [0:0.1:4];
% 求取系统在三角波输入下的响应
[y, x] = lsim(num, den, u, t);
% 将输入的三角波和输出响应曲线绘制在同一个图上
plot(t, y, t, u);
grid
% 添加横纵坐标轴
xlabel('Time [ses] t'); ylabel('y');
% 添加图标题
title('三角波输入和输入下的响应曲线');
% 添加文字标注
legend('响应曲线', '三角波输入');


